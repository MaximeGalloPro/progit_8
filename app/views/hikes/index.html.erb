<script type="module">
    import "hikes_polling"
</script>

<%= render "layouts/next_hike" %>

<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6">
    <!-- Boutons d'action -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-3 mb-6">
        <%= link_to new_hike_history_path(past: true), class: "rounded-lg bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-3 text-white text-center shadow-lg hover:from-blue-500 hover:to-blue-400 transition-all hover:scale-[1.02] flex items-center justify-center gap-2" do %>
            <i class="icon icon-history"></i>
            <span>Ajouter une randonnée passée</span>
        <% end %>

        <%= link_to new_hike_history_path, class: "rounded-lg bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-3 text-white text-center shadow-lg hover:from-blue-500 hover:to-blue-400 transition-all hover:scale-[1.02] flex items-center justify-center gap-2" do %>
            <i class="icon icon-calendar-plus"></i>
            <span>Ajouter une randonnée à venir</span>
        <% end %>

        <%= link_to new_hike_path, class: "rounded-lg bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-3 text-white text-center shadow-lg hover:from-blue-500 hover:to-blue-400 transition-all hover:scale-[1.02] flex items-center justify-center gap-2" do %>
            <i class="icon icon-map-marked-alt"></i>
            <span>Ajouter un nouveau parcours</span>
        <% end %>

        <%= link_to "#", class: "rounded-lg bg-gradient-to-r from-blue-600 to-blue-500 px-4 py-3 text-white text-center shadow-lg hover:from-blue-500 hover:to-blue-400 transition-all hover:scale-[1.02] flex items-center justify-center gap-2", title: "À venir" do %>
            <i class="icon icon-users"></i>
            <span>Gérer les membres</span>
        <% end %>
    </div>

    <!-- Barre de recherche -->
    <%= form_with url: hikes_path, method: :get, local: true, class: "mb-6" do |f| %>
        <div class="flex flex-col md:flex-row gap-3">
            <div class="flex-1">
                <%= f.text_field :search,
                                 placeholder: "Rechercher par nom, lieu ou date (ex: 12/2024)...",
                                 value: params[:search],
                                 class: "block w-full rounded-lg bg-slate-700 px-4 py-3 text-white border border-slate-600 focus:ring-2 focus:ring-blue-500 transition-all placeholder:text-slate-400" %>
            </div>
            <div class="flex gap-3">
                <%= f.submit "Rechercher", class: "rounded-lg bg-gradient-to-r from-blue-600 to-blue-500 px-6 py-3 text-white shadow-lg hover:from-blue-500 hover:to-blue-400 transition-all hover:scale-[1.02]" %>
                <%= link_to "Réinitialiser", hikes_path, class: "rounded-lg bg-slate-700 px-6 py-3 text-slate-300 border border-slate-600 hover:bg-slate-600 transition-all" %>
            </div>
        </div>
    <% end %>

    <!-- Liste des randonnées -->
    <%= render partial: "list" %>
</div>
